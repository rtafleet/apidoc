
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e9bde216.js"></script>

  </head>

  <body class="index" data-languages="[&quot;http&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-28d33cc4.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="http">http</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#overview-of-the-rta-api" class="toc-h1 toc-link" data-title="Overview of the RTA API">Overview of the RTA API</a>
          </li>
          <li>
            <a href="#authentication-get-api-token" class="toc-h1 toc-link" data-title="Authentication: Get API Token">Authentication: Get API Token</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#tenant-id-serial-number" class="toc-h2 toc-link" data-title="Tenant ID (Serial Number)">Tenant ID (Serial Number)</a>
                  </li>
                  <li>
                    <a href="#client-id-and-secret" class="toc-h2 toc-link" data-title="Client ID and Secret">Client ID and Secret</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#permissions" class="toc-h1 toc-link" data-title="Permissions">Permissions</a>
          </li>
          <li>
            <a href="#use-the-rta-api" class="toc-h1 toc-link" data-title="Use the RTA API">Use the RTA API</a>
          </li>
          <li>
            <a href="#working-with-ids" class="toc-h1 toc-link" data-title="Working with IDs">Working with IDs</a>
          </li>
          <li>
            <a href="#searching-vehicles-example" class="toc-h1 toc-link" data-title="Searching (Vehicles example)">Searching (Vehicles example)</a>
          </li>
          <li>
            <a href="#api-reference" class="toc-h1 toc-link" data-title="API Reference">API Reference</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
          <li>
            <a href="#paging" class="toc-h1 toc-link" data-title="Paging">Paging</a>
          </li>
          <li>
            <a href="#extracting-data-from-rta" class="toc-h1 toc-link" data-title="Extracting data from RTA">Extracting data from RTA</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#required-permission" class="toc-h2 toc-link" data-title="Required Permission">Required Permission</a>
                  </li>
                  <li>
                    <a href="#url-format-of-the-extract-api" class="toc-h2 toc-link" data-title="URL format of the extract API">URL format of the extract API</a>
                  </li>
                  <li>
                    <a href="#examples-calling-the-api" class="toc-h2 toc-link" data-title="Examples calling the API">Examples calling the API</a>
                  </li>
                  <li>
                    <a href="#retreive-the-first-1000-records" class="toc-h2 toc-link" data-title="Retreive the first 1000 records">Retreive the first 1000 records</a>
                  </li>
                  <li>
                    <a href="#retrieve-any-rows-modified-since-the-etag-12345" class="toc-h2 toc-link" data-title="Retrieve any rows modified since the etag 12345">Retrieve any rows modified since the etag 12345</a>
                  </li>
                  <li>
                    <a href="#errors-in-the-data-extract-api" class="toc-h2 toc-link" data-title="Errors in the data extract API">Errors in the data extract API</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='overview-of-the-rta-api'>Overview of the RTA API</h1>
<p>The RTA API is the gateway to data and intelligence in RTA Fleet Management software. You can use the RTA API to build apps for your organization and consumers that interact with the data in RTA Fleet Management software. With the RTA API, you can connect to a wealth of resources, relationships, and intelligence, all through a single endpoint: <code>https://api.momentum-prd.rtafleet.com</code>.</p>
<h1 id='authentication-get-api-token'>Authentication: Get API Token</h1><h2 id='tenant-id-serial-number'>Tenant ID (Serial Number)</h2>
<blockquote>
<p>Example: Finding your tenantId in the app URL</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">https://app.rtafleet.com/.../?tenantId=RTACAN01&amp;facilityId=2
</span></code></pre></div>
<p>The tenantId identifies your RTA tenant and is also known as your Serial Number. You can find it by signing in to the RTA web app and looking at the browser URL—it&#39;s the value of the tenantId query parameter (for example, RTACAN01 in the example above). Use this value in the API path placeholders like /{tenantId} and when calling the Get API Token endpoint.</p>
<h2 id='client-id-and-secret'>Client ID and Secret</h2>
<blockquote>
<p>Example: Get an API token</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">GET https://api.momentum-prd.rtafleet.com/information-management/{tenantId}/integrations/get-api-token?clientId={clientId}&amp;clientSecret={clientSecret}
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIs..."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Authorization header</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">Authorization: Bearer eyJhbGciOi...
</span></code></pre></div>
<p>To call the RTA API, your app must obtain an API token from the Momentum Get API Token endpoint. Tokens are JSON Web Tokens (JWT) used as a Bearer token in the Authorization header.  This will require a Client ID and Secret, which you can obtain by registering your app in Fleet360.
<aside class="notice">
You must replace the values for <code>client_id</code> and <code>client_secret</code> with your personal Client ID and Client Secret values.
</aside></p>

<p>Your app must be registered with RTA. Registering your app establishes a unique application ID and other values that your app uses to authenticate with Auth0 and get tokens. You register your app by <a href="https://app.rtafleet.com/admin/api-keys">creating an API Key on Fleet360</a>. More info can also be found <a href="https://docs.rtafleet.com/rta-manual/rta-api-keys/">here</a>. </p>
<h1 id='permissions'>Permissions</h1>
<p>The RTA API exposes granular permissions over resources (for example, vehicles:view, parts:update). The permissions associated with your API key determine what your integration can access. If an operation requires a permission that your token does not grant, the API returns an HTTP 403 with an error message indicating the missing permission.</p>
<h1 id='use-the-rta-api'>Use the RTA API</h1>
<blockquote>
<p>Example: Get an API token</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">GET https://api.momentum-prd.rtafleet.com/information-management/{tenantId}/integrations/get-api-token?clientId={clientId}&amp;clientSecret={clientSecret}
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6..."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Call an endpoint with the token</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">POST https://api.momentum-prd.rtafleet.com/asset-management/{tenantId}/vehicles/search-vehicles-enhanced
Authorization: Bearer eyJhbGciOi...
Content-Type: application/json
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"queryOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"filters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w"> </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vehicleNumber"</span><span class="p">,</span><span class="w"> </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="p">,</span><span class="w"> </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1001"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"sorts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w"> </span><span class="nl">"sortBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vehicleNumber"</span><span class="p">,</span><span class="w"> </span><span class="nl">"sortOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASC"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The RTA API is a REST web API. After you register your app and obtain an API token, you can make HTTPS requests to RTA endpoints using a Bearer token in the Authorization header. Your tenant identifier is called tenantId (also known as your Serial Number); see Tenant ID (Serial Number) to find it.</p>

<p>Base URL
- https://api.momentum-prd.rtafleet.com</p>

<p>Authentication</p>

<ul>
<li>Obtain a token using the Get API Token endpoint.</li>
<li>Include the token as a Bearer token in the Authorization header on every request.</li>
</ul>

<p>A successful response includes the requested data and pagination metadata. See Paging for details on pagination fields.</p>
<h1 id='working-with-ids'>Working with IDs</h1>
<blockquote>
<p>Example: Find a vehicle ID, then get details</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">POST https://api.momentum-prd.rtafleet.com/asset-management/{tenantId}/vehicles/search-vehicles-enhanced
Authorization: Bearer eyJhbGciOi...
Content-Type: application/json
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"queryOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"filters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w"> </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vehicleNumber"</span><span class="p">,</span><span class="w"> </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="p">,</span><span class="w"> </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1001"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Sample search response (truncated)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UUID"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vehicleNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1001"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Use the ID with detail/update endpoints</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err"># Get details
GET https://api.momentum-prd.rtafleet.com/asset-management/{tenantId}/vehicles/{id}
Authorization: Bearer eyJhbGciOi...

# Update (example)
PUT https://api.momentum-prd.rtafleet.com/asset-management/{tenantId}/vehicles/{id}
Authorization: Bearer eyJhbGciOi...
Content-Type: application/json

{ "make": "Ford" }
</span></code></pre></div>
<p>Many endpoints that act on a specific resource (for example: get details, update, delete) require that resource’s unique identifier (id). You typically obtain these IDs from the corresponding search endpoints. Each search response includes an <code>items</code> array where each item contains an <code>id</code> field.</p>

<p>Typical flow
- Use a search endpoint to find the record and read its <code>id</code> from the response
- Call the detail/update/delete endpoint using that <code>id</code></p>

<p>Notes
- IDs are stable unique identifiers (generally UUIDs) and are required for actions on a single resource across domains (Vehicles, Work Orders, Parts, etc.).
- For nested resources (e.g., work order lines, attachments, comments), you may need both the parent ID and the child item ID; obtain each via their respective search/list endpoints.</p>
<h1 id='searching-vehicles-example'>Searching (Vehicles example)</h1>
<blockquote>
<p>Example request</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">POST https://api.momentum-prd.rtafleet.com/asset-management/{tenantId}/vehicles/search-vehicles-enhanced
Authorization: Bearer eyJhbGciOi...
Content-Type: application/json
</span></code></pre></div>
<blockquote>
<p>Request body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"queryOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"filters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w"> </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vehicleNumber"</span><span class="p">,</span><span class="w"> </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="p">,</span><span class="w"> </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1001"</span><span class="p">]</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w"> </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"year"</span><span class="p">,</span><span class="w"> </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gte"</span><span class="p">,</span><span class="w"> </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">2020</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"sorts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w"> </span><span class="nl">"sortBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vehicleNumber"</span><span class="p">,</span><span class="w"> </span><span class="nl">"sortOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ASC"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UUID"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vehicleNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"serialNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1FT...123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"make"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ford"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F-150"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"year"</span><span class="p">:</span><span class="w"> </span><span class="mi">2022</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sorts"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nl">"sortBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vehicleNumber"</span><span class="p">,</span><span class="w"> </span><span class="nl">"sortOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asc"</span><span class="w"> </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"searchMeta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Use the Vehicles search-vehicles-enhanced endpoint to perform flexible searches with filters, sorts, and pagination.</p>

<p>Endpoint
- POST /asset-management/{tenantId}/vehicles/search-vehicles-enhanced</p>

<p>Request body (queryOptions)</p>

<ul>
<li>pagination: Controls paging through results

<ul>
<li>offset: Number of records to skip (zero-based; first record is 0)</li>
<li>limit: Maximum number of records to return</li>
</ul></li>
<li>filters: Array of filter objects to narrow results

<ul>
<li>name: The field name to filter on (for example, vehicleNumber, year, facility.number)</li>
<li>operator: How to compare the field to the provided values. Supported operators include:

<ul>
<li>eq, neq</li>
<li>gt, gte, lt, lte</li>
<li>contains, beginsWith, endsWith</li>
</ul></li>
<li>values: Array of one or more values to evaluate against the field (strings, numbers, booleans, or null)</li>
</ul></li>
<li>sorts: Array of sort objects to order results

<ul>
<li>sortBy: The field name to sort on (for example, vehicleNumber, year)</li>
<li>sortOrder: ASC or DESC</li>
</ul></li>
</ul>

<p>The sort and filter fields are defined in the API Documentation for each endpoint.</p>
<h1 id='api-reference'>API Reference</h1>
<p>The RTA API is REST-based and uses standard HTTP methods and JSON payloads. You can explore available endpoints and models via the OpenAPI documentation:</p>

<ul>
<li><a href="https://api.momentum-prd.rtafleet.com/api">Swagger Docs</a></li>
</ul>

<p>As a note, the swagger docs do not currently support testing endpoints.  You will need to test using postman or some other tool.</p>

<p>Key points</p>

<ul>
<li>Authenticate using a Bearer token obtained from the Get API Token endpoint.</li>
<li>Use collection endpoints’ request bodies to provide queryOptions (pagination, filters, sorts).</li>
<li>Responses include items and meta pagination data.</li>
</ul>

<p>For a practical example of searching, see the Vehicles “search-vehicles-enhanced” example in this guide.</p>
<h1 id='errors'>Errors</h1>
<blockquote>
<p>Sample error response (permission)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forbidden"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Missing required permission vehicles:view"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"requiredPermission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vehicles:view"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The RTA API uses standard HTTP status codes to indicate success or failure. Error responses include a JSON body with information about the error.</p>

<p>Common error status codes</p>

<ul>
<li>400 Bad Request: The request is malformed or invalid.  Verify the date you are sending is correct.</li>
<li>401 Unauthorized: Missing or invalid Bearer token.</li>
<li>403 Forbidden: The token does not grant the required permission.</li>
<li>404 Not Found: The requested resource does not exist.  Verify the resource you are trying to access exists, and that your url is correct.</li>
<li>409 Conflict: The request conflicts with current state.</li>
<li>429 Too Many Requests: Throttling/rate limiting.</li>
<li>500 Internal Server Error: An unexpected error occurred.</li>
</ul>

<blockquote>
<p>Sample error response (validation)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"statusCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bad Request"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid filter field: vehicleNumbr"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='paging'>Paging</h1>
<p>Paging is handled using the <code>queryOptions.pagination</code> object in the request body for collection endpoints. Responses include a <code>meta</code> object with pagination details.</p>

<blockquote>
<p>Example: Vehicles search with pagination</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">POST https://api.momentum-prd.rtafleet.com/asset-management/{tenantId}/vehicles/search-vehicles-enhanced
Authorization: Bearer eyJhbGciOi...
Content-Type: application/json
</span></code></pre></div>
<blockquote>
<p>Request body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"queryOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UUID"</span><span class="p">,</span><span class="w"> </span><span class="nl">"vehicleNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1001"</span><span class="p">,</span><span class="w"> </span><span class="nl">"year"</span><span class="p">:</span><span class="w"> </span><span class="mi">2022</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPages"</span><span class="p">:</span><span class="w"> </span><span class="mi">74</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalRecords"</span><span class="p">:</span><span class="w"> </span><span class="mi">3698</span><span class="p">,</span><span class="w">
    </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sort"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"sortBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vehicleNumber"</span><span class="p">,</span><span class="w"> </span><span class="nl">"sortOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asc"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"searchMeta"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Terms</p>

<table><thead>
<tr>
<th>Term</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td><code>offset</code></td>
<td>Number of records to skip (zero-based; first record is 0).</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>Maximum number of records to return.</td>
</tr>
<tr>
<td><code>page</code></td>
<td>The current page number derived from offset/limit.</td>
</tr>
<tr>
<td><code>totalPages</code></td>
<td>Total number of pages given the current <code>limit</code>.</td>
</tr>
<tr>
<td><code>totalRecords</code></td>
<td>Total number of records available.</td>
</tr>
</tbody></table>
<h1 id='extracting-data-from-rta'>Extracting data from RTA</h1>
<p>RTA has built a simple REST API for extracting useful data directly from the RTA database. This is useful for customers who need direct access to the raw, unformatted data for use in data warehousing and other utility projects.</p>

<p>The data returned represents the actual physical column names in the database.</p>

<p>The data extract API can be used by first obtaining an access token as descrbed in this documentation. The access token is then used as a bearer token in the <code>authorization</code> header.</p>
<h3 id='required-permission'>Required Permission</h3>
<p>A special API permission has been created to allow use of the data extract API. We recommend tighly controlling and securing the client id and client secret when granted this permission because anyone with these credentials will have full read access to all of the data in your database.</p>

<table><thead>
<tr>
<th>Permission Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>api:extractTable</td>
<td>gives full read access to all tables in the customer database</td>
</tr>
</tbody></table>

<aside class="notice">

<p><b>A note on etags</b></p>

<p>The data extract API makes extensive use of etags. An etag is simply a text value in a table row that automatically increments whenever any column in the row is updated. The etag is similar to a date/time stamp, without the complexity of dates and times. Using the etag allows you to request only the latest changes since the last time you retrieved the data from the server so that you can periodically request small sets of data from the RTA API.</p>
</aside>
<h2 id='url-format-of-the-extract-api'>URL format of the extract API</h2>
<p>Use the following URL to access the data extract API.</p>

<p>URL: <code>https://api.rtafleet.com/v0/extract/&lt;tablename&gt;?etag=&lt;etag&gt;&amp;limit=&lt;limit&gt;</code></p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>tablename</code></td>
<td>The name of the actual table in the RTA database. To obtain the table names you may request the data dictionary by contacting support@rtafleet.com</td>
</tr>
<tr>
<td><code>etag</code></td>
<td>The first etag value to return</td>
</tr>
<tr>
<td><code>limit</code></td>
<td>limit is not required, has a max of 1000 and defaults to 1000.  If you choose to get your data in increments of 100, you could set limit=100.</td>
</tr>
</tbody></table>
<h2 id='examples-calling-the-api'>Examples calling the API</h2>
<p>See the example at the right for the format of the data returned from the API.</p>

<blockquote>
<p>The resulting object is:</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">count</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span> <span class="p">:</span> <span class="p">[</span><span class="nx">the</span> <span class="nx">rows</span> <span class="k">from</span> <span class="nx">the</span> <span class="nx">table</span> <span class="nx">sorted</span> <span class="nx">by</span> <span class="nx">etag</span><span class="p">],</span>
     <span class="dl">"</span><span class="s2">nextEtag</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">12344</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>where <code>nextEtag</code> would be the very next etag value to use.  nextEtag is not returned if you have received all the rows in the table.</p>
<h2 id='retreive-the-first-1000-records'>Retreive the first 1000 records</h2>
<blockquote>
<p>Example retrieving records from <code>vehfile</code></p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">curl --request GET \
  --url "https://api.rtafleet.com/v0/extract/vehfile?etag=0&amp;limit=1000" \
  --header "authorization: Bearer $AUTH_TOKEN"
</span></code></pre></div>
<blockquote>
<p>Sample reponse from <code>vehfile</code></p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">count</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1000</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span><span class="nx">FIRST</span> <span class="nx">RECORD</span> <span class="nx">IN</span> <span class="nx">TABLE</span><span class="p">},</span>
        <span class="p">...,</span>
        <span class="p">{</span><span class="mi">1000</span><span class="nx">th</span> <span class="nx">RECORD</span> <span class="nx">IN</span> <span class="nx">TABLE</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">nextEtag</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">12345</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>See the example CURL request at the right to retrieve the first 1000 records from the vehilces table <code>vehfile</code>.</p>
<h2 id='retrieve-any-rows-modified-since-the-etag-12345'>Retrieve any rows modified since the etag 12345</h2>
<blockquote>
<p>Sample request with etag</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">curl --request GET \
  --url "https://api.rtafleet.com/v0/extract/vehfile?etag=12345&amp;limit=1000" \
  --header "authorization: Bearer $AUTH_TOKEN"
</span></code></pre></div>
<blockquote>
<p>Sample response without nextEtag</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">count</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">50</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span><span class="mi">1001</span><span class="nx">th</span> <span class="nx">RECORD</span> <span class="nx">IN</span> <span class="nx">TABLE</span><span class="p">},</span>
        <span class="p">...,</span>
        <span class="p">{</span><span class="mi">1051</span><span class="nx">th</span> <span class="nx">RECORD</span> <span class="nx">IN</span> <span class="nx">TABLE</span><span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>See the example CURL request at the right to retrieve anything that has been created or modified since the etag of 12345 has been retrieved.</p>

<p>Because nextEtag was not returned, there are no more rows to retrieve.</p>
<h2 id='errors-in-the-data-extract-api'>Errors in the data extract API</h2>
<p>If you supply an invalid tablename, you will receive a 404 error.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="http">http</a>
          </div>
      </div>
    </div>
  </body>
</html>
